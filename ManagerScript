#coding: utf-8
import math
import tkinter as tk
import time

n = 100
m = 100
#заполняем 0-ми массивы
mass1 = [[0 for j in range(m)] for i in range(n)]
mass2 = [[0 for j in range(m)] for j in range(m)]
#menu
from tkinter import *
root = Tk()
#commands нужно добавить другие
def Scale(n):
    global lifeScale
    lifeScale = n
def Speed(n):
    global lifeSpeed
    lifeSpeed = n


menubar = Menu(root)

#General
filemenu = Menu(menubar, tearoff=0)

#filemenu.add_command(label="Play", command=hello)
#filemenu.add_separator()
filemenu.add_command(label="Exit", command=root.quit)
menubar.add_cascade(label="File", menu=filemenu)
#lifeScale
editmenu = Menu(menubar, tearoff=0)
editmenu.add_command(label="3", command=Scale(3))
editmenu.add_command(label="4", command=Scale(4))
editmenu.add_command(label="5", command=Scale(5))
menubar.add_cascade(label="lifeScale", menu=editmenu)
#lifeSpeed
editmenu = Menu(menubar, tearoff=0)
editmenu.add_command(label="1", command=Speed(1))
editmenu.add_command(label="2", command=Speed(2))
editmenu.add_command(label="3", command=Speed(3))
menubar.add_cascade(label="lifeSpeed", menu=editmenu)

# display the menu
root.config(menu=menubar)

def Start():
    global root,canv,lifeScale,lifeSpeed,ifTime,generationCounter
    root = tk.Tk()
    #fr = tk.Frame(root)
    lifeScale = 100
    s = str(lifeScale * 10) + "x" + str(lifeScale * 10)
    root.geometry(s)
    canv = tk.Canvas(root, bg='pink')
    canv.pack(fill=tk.BOTH, expand=1)
     #масштаб
    lifeSpeed = 1 #скорость

    ifTime = 0 #остановка времени 0-если время стоит
    generationCounter = 0

def CellUpdate():
    for i in range(n):
        for j in range(m):

            cell = mass1[i][j]
            neidgboursAlive=0

            #считаем живых соседей
            if (mass1[(n + i - 1) % n][j] == 1):
                neidgboursAlive+=1
            if (mass1[(n + i + 1) % n][j] == 1):
                neidgboursAlive += 1
            if (mass1[(n + i - 1) % n][(n + j - 1) % n] == 1):
                neidgboursAlive += 1
            if (mass1[(n + i - 1) % n][(n + j + 1) % n] == 1):
                neidgboursAlive += 1
            if (mass1[(n + i + 1) % n][(n + j - 1) % n] == 1):
                neidgboursAlive += 1
            if (mass1[(n + i + 1) % n][(n + j + 1) % n] == 1):
                neidgboursAlive += 1
            if (mass1[i][(n + j - 1) % n] == 1):
                neidgboursAlive += 1
            if (mass1[i][(n + j + 1) % n] == 1):
                neidgboursAlive += 1

            #считаем следующее поколение в соответствии с правилами
            if cell == 1:
                if neidgboursAlive == 2 or neidgboursAlive == 3 :
                    mass2[i][j] = 1
                else:
                    mass2[i][j] = 0
            else:
                if neidgboursAlive == 3:
                    mass2[i][j] = 1
                else:
                    mass2[i][j] = 0
    generationCounter += 1

def Output(scale):
    {
        #выводим mass2 в соответсвие с масштабом scale
    }
#перекрашиваем клетку на которую тыкнули
def MouceClick(event):
    x = math.floor(event.x / 10)
    y = math.floor(event.y / 10)
    print(x,y)
    mass2[x][y] = (mass2[x][y] + 1) % 2

def CheckButtons():
    {
        root.bind('<1>',MouceClick)

    }
def Update():
    global generationCounter, ifTime, mass2, mass1
    print(generationCounter)
    if ifTime:
        CellUpdate()
    CheckButtons()
    Output(lifeScale)
    mass1 = mass2

#старт



#root.after(1000,Update)
root.mainloop()
        #print(generationCounter)
